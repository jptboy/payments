{% load staticfiles %}
<!DOCTYPE <!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <script src="https://js.braintreegateway.com/web/dropin/1.11.0/js/dropin.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
    <script src="http://yourjavascript.com/1428632661/script.js"></script>
    <title>Payment</title>

    <!-- using style3.css -->
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        body {
            font-family: Tahoma;
            background-color: dodgerblue;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            color: black;
        }

        .pay {
            position: absolute;
            width: 1140px;
            top: 20%;
            left: 50%;
            transform: translate(-50%,-50%)
        }

        header {
            height: 100vh;
            background-position: center;
            background-size: cover;
        }

        h1, h2 {
            font-family: 'Calibri light', sans-serif;
        }

        .dropin-container {
            position: absolute;
            width: 1140px;
            top: 60%;
            left: 50%;
            transform: translate(-50%,-50%)
        }

        .select {
            position: absolute;
            width: 1140px;
            top: 60%;
            left: 50%;
            font-family: 'Calibri light', sans-serif;
            font-size: 110%;
            transform: translate(-50%,-50%)
        }

        .confirm {
            position: absolute;
            width: 1140px;
            top: 60%;
            left: 66%;
            font-family: 'Calibri light', sans-serif;
            font-size: 110%;
            transform: translate(-50%,-50%)
        }

        #select-button {
            opacity: 0.4;
            cursor: pointer;
            border: 1px solid white;
            padding: 10px 60px;
        }

        #confirm-button {
            opacity: 0.4;
            cursor: pointer;
            border: 1px solid white;
            padding: 10px 40px;
        }

        .selectCover {
            bottom: 647px;
            left: 15.8%;
            position: relative;
            background: grey;
            padding: 8px 50px;
            color: black;
            font-family: 'Calibri light', sans-serif;
            font-size: 120%;
        }

        .confirmCover {
            bottom: 647px;
            left: 18.3%;
            position: relative;
            background: grey;
            padding: 8px 36px;
            color: black;
            font-family: 'Calibri light', sans-serif;
            font-size: 120%;
        }

        .selectCover:hover {
            background: black;
            color: grey;
            transition: all 0.3s ease-in;
        }

        .confirmCover:hover {
            background: black;
            color: grey;
            transition: all 0.3s ease-in;
        }

    </style>

</head>
<body>


    <div class="pay">
        <h1>Pay Now</h1>
        <br>
        <h2>Enter your payment amount</h2>
        <br>
        <input type="number" step="0.01" min="0" id="payment_val" />
    </div>

    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>


    <header>
        <div id="dropin-container"></div>

        <div class="select">
            <button id="select-button">Select this Card</button>
        </div>
        
        <script>
              csrf="{{csrf_token}}"
              var button = document.querySelector('#select-button');
              var paymentamt=document.getElementById('payment_val').value
              braintree.dropin.create({
                authorization: "{{token}}",
                container: '#dropin-container'
              }, function (createErr, instance) {
                button.addEventListener('click', function () {
                  instance.requestPaymentMethod(function (err, payload) {
                      nonce=payload.nonce
                      buttonclicked=true
                  });
                });
              });
        </script>

        <div class="confirm">
            <button id="confirm-button" onclick="foobar();">Confirm</button>
        </div>

    </header>

    <span class="selectCover">Select this card</span>
    <span class="confirmCover">Confirm</span>

    <script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.min.js"></script>

    <script>
        $(".selectCover").bind("click", function () {
            $("#select-button").click();
        })
    </script>

    <script>
        $(".confirmCover").bind("click", function () {
            $("#confirm-button").click();
        })
    </script>

</body>